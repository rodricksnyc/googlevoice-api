// "use strict";$(document).ready(function(){var e,t,n={chargeNo:"",fileName:"",txtInput:"",fileType:"",lang:"",gender:"",certified:!1},a=[];function s(e){$.ajax(e).done(function(e){e.audioContent&&($("body").append('<a class="a-background" href="data:audio/wav;base64,'+e.audioContent+'" download="'+n.fileName+"."+n.fileType+'">Download</a>'),setTimeout(function(){$(".a-background")[0].click(),$(".span-select-btn").each(function(){$(this).next().css({visibility:"hidden",opacity:"0"}),$(this).show(),n.lang="",$(this).parent().removeClass("selected bounceIn")}),$(".input-charge-no").val(""),$(".input-file-name").val(""),$(".input-text").val(""),$(".span-clear").removeClass("t-teal"),$(".span-char-count").removeClass("red yellow").html("0/1500 characters"),$(".span-mp3-btn, .span-wav-btn").removeClass("selected"),$('.control input[type="checkbox"]').prop("checked",!1),$(".control").css({color:"#007e9d"}),$(".control__indicator").css({borderColor:"#007e9d"}),$(".span-submit-btn").attr("status","disabled").html('<img src="src/loader.svg" class="img-loader">Submit'),n={chargeNo:"",fileName:"",txtInput:"",fileType:"",lang:"",gender:"",certified:!1},$(".d-success").addClass("show").css({height:window.innerHeight})},1e3))})}function i(n){var a=n;new Promise(function(e,t){var n=_.pickBy(voiceList,function(e){if(e.name===$(a).parent().parent().attr("value"))return e});n?e(n):t("An error occurred")}).then(function(n,a){if(!a){var s=_.values(n)[0];!function(n,a){function s(){$(e).css({left:"0px"}),$(e).next().css({left:"32px"}),e=""}n,t&&(t.pause(),s()),(t=new Audio(n)).addEventListener("ended",function(){s()})}("data:audio/wav;base64,"+s.audioContent,s.name)}}).then(function(){var n=t.play();void 0!==n&&n.then(function(t){e=a}).catch(function(e){window.alert("An error occurred. Please try again.")})})}_.forEach(voiceList,function(e,t){var n='<li class="li-voice-item" value="'+e.name+'" title="Preview">'+e.name+'<br>\n\t\t\t\t\t\t<span class="span-human-lang">'+e.ssmlGender+'</span>\n\t\t\t\t\t\t<span class="span-play-btn" role="button"><img class="img-play-btn" src="src/play-circle-regular.svg" alt=""  title="Play"/><img class="img-pause-btn" src="src/pause-circle-solid.svg" alt=""  title="Pause"/></span>\n\t\t\t\t\t\t<span class="span-select-btn" role="button" title="Select Voice">Select</span>\n\t\t\t\t\t\t<img class="img-check-mark" src="src/icon_check.svg" alt="" title="Selected"/>\n\t\t\t\t  </li>';Number(t)%2==0?$(".ul-voice-list.col-1").append(n):$(".ul-voice-list.col-2").append(n)}),$(".span-more").on("click",function(){var e;$(".d-voice-selector").css({height:"412px"}),e=$(".d-voice").offset().top-20,$("html, body").stop().animate({scrollTop:e},1200,"swing"),$(this).hide(),$(".span-less").show()}),$(".span-less").on("click",function(){$(".d-voice-selector").css({height:"242px"}),$(this).hide(),$(".span-more").show()}),$(".span-submit-btn").on("click",function(e){if("active"!==$(this).attr("status"))return e.preventDefault(),!1;var t=n;if(!t.certified)return window.alert("An error occurred, please try after reloading this page."),e.preventDefault(),!1;var a={async:!0,crossDomain:!0,url:"https://texttospeech.googleapis.com/v1/text:synthesize",method:"POST",headers:{"x-goog-api-key":"AIzaSyAtzxAtTS9WuIZfwhuS-UuZ_Szz_NUEOps","content-type":"application/json","cache-control":"no-cache"},processData:!1,data:"{'input':{'text':'"+t.txtInput+"'},'voice':{'languageCode':'"+t.lang.substring(0,5)+"','name':'"+t.lang+"','ssmlGender':'"+t.gender+"'},'audioConfig':{'audioEncoding':'"+t.fileType+"'}}"};n.fileType="MP3"===n.fileType?"mp3":"wav",$(this).attr("status","loading").html('<img src="src/loader.svg" class="img-loader">'),$(".a-background").remove(),s(a)}),$('.control input[type="checkbox"]').change(function(e){$(".p-final-warning-msg").html('<span class="f-600">An error occurred during form validation</span>, please see below:<br>'),a=[],""===n.lang&&($(".p-final-warning-msg").append("Missing voice type<br>"),a.push("Input text")),$(".input-charge-no").val().length<1?($(".p-final-warning-msg").append("Missing charge number<br>"),a.push("Charge number, ")):$.isNumeric($(".input-charge-no").val())?n.chargeNo=$(".input-charge-no").val():($(".p-final-warning-msg").append("Only numbers are allowed as Charge number<br>"),a.push("Charge number, ")),$(".input-file-name").val().length<1?($(".p-final-warning-msg").append("Missing file name<br>"),a.push("File name, ")):($(".input-file-name").val().indexOf(".mp3")>-1||$(".input-file-name").val().indexOf(".wav")>-1)&&($(".p-final-warning-msg").append("Enter file name without any extensions<br>"),a.push("File name, ")),n.fileName=$(".input-file-name").val(),$(".input-text").val().length<1?($(".p-final-warning-msg").append("Missing input text<br>"),a.push("Input text, ")):n.txtInput=$(".input-text").val(),""===n.fileType&&($(".p-final-warning-msg").append("Missing file type"),a.push("File type")),(a.length>0?($(".p-final-warning-msg").show().addClass("fadeIn"),n.certified=!1,0):(n.certified=!0,1))?($(".span-submit-btn").attr("status","active"),$(".p-final-warning-msg").hide(),$(this).is(":checked")?($(".control").css({color:"#006837"}),$(".control__indicator").css({borderColor:"#006837"})):($(".control").css({color:"#007e9d"}),$(".control__indicator").css({borderColor:"#007e9d"}))):($(this).prop("checked",!1),e.preventDefault())}),$(".input-text").on("focus",function(){$(".span-char-count").css({top:"-1px"})}),$(".input-text").on("blur",function(){$(this).val().length<1?$(this).addClass("required"):$(this).removeClass("required"),$(".span-char-count").css({top:"0px"})}),$('input[type="text"]').on("blur",function(){$(this).val().length<1?$(this).addClass("required"):$(this).removeClass("required")}),$(".input-charge-no, .input-file-name, .input-text").on("input",function(){n.certified&&($('.control input[type="checkbox"]').prop("checked",!1),$(".control").css({color:"#007e9d"}),$(".control__indicator").css({borderColor:"#007e9d"}),$(".span-submit-btn").attr("status","disabled"))}),$(".input-text").on("input",function(){var e=$(this).val().length;if($(".span-char-count").text(e+"/1500 characters"),0==e)return $(".span-clear").removeClass("t-teal"),void $(".span-char-count").removeClass("red yellow");e>0&&e<=1400?($(".span-clear").addClass("t-teal"),$(".span-char-count").removeClass("red yellow")):e>1400&&e<=1485?$(".span-char-count").removeClass("red").addClass("yellow"):$(".span-char-count").removeClass("yellow").addClass("red")}),$(".span-clear").click(function(){$(".input-text").val(""),$(".span-char-count").text("0/1500 characters"),$(".span-char-count").removeClass("red yellow")}),$(".img-play-btn").on("click",function(){$(this).css({left:"-32px"}),$(this).next().css({left:"0px"}),i(this)}),$(".img-pause-btn").on("click",function(n){t?(t.pause(),e="",$(this).css({left:"32px"}),$(this).prev().css({left:"0px"})):n.preventDefault()}),$(".span-select-btn").on("click",function(){$(".span-select-btn").each(function(){$(this).next().css({visibility:"hidden",opacity:"0"}),$(this).show(),n.lang="",$(this).parent().removeClass("selected bounceIn")}),$(this).hide(),$(this).next().css({visibility:"visible",opacity:"1"}),n.lang=$(this).parent().attr("value"),n.gender=$(this).parent().find(".span-human-lang").text(),$(this).parent().addClass("selected animated bounceIn")}),$(".span-mp3-btn, .span-wav-btn").on("click",function(e){$(".span-mp3-btn, .span-wav-btn").removeClass("selected"),$(this).hasClass("selected")?e.preventDefault():($(this).toggleClass("selected"),n.fileType=$(this).attr("value"))}),$(".d-success .span-close").on("click",function(){$(".d-success").removeClass("show")})});
$(document).ready(function(){var e,t,n={chargeNo:"",fileName:"",txtInput:"",fileType:"MP3",lang:"",gender:"",certified:!1,speakingRate:"1"},s=[];function a(e){$(".p-final-error-msg").addClass("t-wesblue").show().text("Downloading...!! The time to download the audio file takes 1 - 9 seconds depending on the character count."),$.ajax(e).done(function(e){e.audioContent&&(saveAs(`data:audio/wav;base64,${e.audioContent}`,`${n.fileName}.${n.fileType}`),i(),$(".d-success").addClass("show").css({height:window.innerHeight}),$(".p-final-error-msg").hide())}).fail(function(e){i(),$(".p-final-error-msg").removeClass("t-wesblue").show().text("An error occured. Please try again !!"),setTimeout(function(){$(".p-final-error-msg").hide()},2e3)})}function i(){$(".span-select-btn").each(function(){$(this).next().css({visibility:"hidden",opacity:"0"}),$(this).show(),n.lang="",$(this).parent().removeClass("selected bounceIn")}),$(".input-charge-no").val(""),$(".input-file-name").val(""),$(".input-text").val(""),$(".span-clear").removeClass("t-teal"),$(".span-char-count").removeClass("red yellow").html("0/5000 characters"),$(".span-mp3-btn, .span-wav-btn").removeClass("selected"),$('.control input[type="checkbox"]').prop("checked",!1),$(".control").css({color:"#007e9d"}),$(".control__indicator").css({borderColor:"#007e9d"}),$(".span-submit-btn").attr("status","disabled").html('<img src="src/Rolling-0.8s-127px.svg" class="img-loader">Submit'),n={chargeNo:"",fileName:"",txtInput:"",fileType:"",lang:"",gender:"",certified:!1, speakingRate:'1'}}function l(n){var s=n;new Promise(function(e,t){var n=_.pickBy(voiceList,e=>{if(e.name===$(s).parent().parent().attr("value"))return e});n?e(n):t("An error occurred")}).then(function(n,s){if(!s){var a=_.values(n)[0];!function(n,s){function a(){$(e).css({left:"0px"}),$(e).next().css({left:"32px"}),e=""}n,t&&(t.pause(),a()),(t=new Audio(n)).addEventListener("ended",function(){a()})}(`data:audio/wav;base64,${a.audioContent}`,a.name)}}).then(function(){var n=t.play();void 0!==n&&n.then(t=>{e=s}).catch(e=>{window.alert("An error occurred. Please try again.")})})}_.forEach(voiceList,(e,t)=>{var n=`<li class="li-voice-item" value="${e.name}" title="Preview">${e.name}<br>\n\t\t\t\t\t\t<span class="span-human-lang">${e.ssmlGender}</span>\n\t\t\t\t\t\t<span class="span-play-btn" role="button"><img class="img-play-btn" src="src/play-circle-regular.svg" alt=""  title="Play"/><img class="img-pause-btn" src="src/pause-circle-solid.svg" alt=""  title="Pause"/></span>\n\t\t\t\t\t\t<span class="span-select-btn" role="button" title="Select Voice">Select</span>\n\t\t\t\t\t\t<img class="img-check-mark" src="src/icon_check.svg" alt="" title="Selected"/>\n\t\t\t\t  </li>`;Number(t)%2==0?$(".ul-voice-list.col-1").append(n):$(".ul-voice-list.col-2").append(n)}),$(".span-more").on("click",function(){var e;$(".d-voice-selector").css({height:"412px"}),e=$(".d-voice").offset().top-20,$("html, body").stop().animate({scrollTop:e},1200,"swing"),$(this).hide(),$(".span-less").show()}),$(".span-less").on("click",function(){$(".d-voice-selector").css({height:"242px"}),$(this).hide(),$(".span-more").show()}),$(".span-submit-btn").on("click",function(e){if("active"!==$(this).attr("status"))return e.preventDefault(),!1;var t=n;if(!t.certified)return window.alert("An error occurred, please try after reloading this page."),e.preventDefault(),!1;var s={async:!0,crossDomain:!0,url:"https://texttospeech.googleapis.com/v1/text:synthesize",method:"POST",headers:{"x-goog-api-key":"AIzaSyAtzxAtTS9WuIZfwhuS-UuZ_Szz_NUEOps","content-type":"application/json","cache-control":"no-cache"},processData:!1,data:`{'input':{'text':'${t.txtInput.replace(/[^\w\s]/gi,"")}'}, 'voice':{'languageCode':'${t.lang.substring(0,5)}','name':'${t.lang}','ssmlGender':'${t.gender}'},'audioConfig':{'audioEncoding':'${t.fileType}', 'speakingRate': ${t.speakingRate}}}`};n.fileType="MP3"===n.fileType?"mp3":"wav",$(this).attr("status","loading").html('<img src="src/Rolling-0.8s-127px.svg" class="img-loader">'),$(".a-background").remove(),a(s)}),$('.control input[type="checkbox"]').change(function(e){$(".p-final-warning-msg").html('<span class="f-600">An error occurred during form validation</span>, please see below:<br>'),s=[],""===n.lang&&($(".p-final-warning-msg").append("Missing voice type<br>"),s.push("Input text")),$(".input-charge-no").val().length<1?($(".p-final-warning-msg").append("Missing charge number<br>"),s.push("Charge number, ")):$.isNumeric($(".input-charge-no").val())?n.chargeNo=$(".input-charge-no").val():($(".p-final-warning-msg").append("Only numbers are allowed as Charge number<br>"),s.push("Charge number, ")),$(".input-file-name").val().length<1?($(".p-final-warning-msg").append("Missing file name<br>"),s.push("File name, ")):($(".input-file-name").val().indexOf(".mp3")>-1||$(".input-file-name").val().indexOf(".wav")>-1)&&($(".p-final-warning-msg").append("Enter file name without any extensions<br>"),s.push("File name, ")),n.fileName=$(".input-file-name").val(),$(".input-text").val().length<1?($(".p-final-warning-msg").append("Missing input text<br>"),s.push("Input text, ")):n.txtInput=$(".input-text").val(),""===n.fileType&&($(".p-final-warning-msg").append("Missing file type"),s.push("File type")),(s.length>0?($(".p-final-warning-msg").show().addClass("fadeIn"),n.certified=!1,0):(n.certified=!0,1))?($(".span-submit-btn").attr("status","active"),$(".p-final-warning-msg").hide(),$(this).is(":checked")?($(".control").css({color:"#006837"}),$(".control__indicator").css({borderColor:"#006837"})):($(".control").css({color:"#007e9d"}),$(".control__indicator").css({borderColor:"#007e9d"}))):($(this).prop("checked",!1),e.preventDefault())}),$(".input-text").on("focus",function(){$(".span-char-count").css({top:"-1px"})}),$(".input-text").on("blur",function(){$(this).val().length<1?$(this).addClass("required"):$(this).removeClass("required"),$(".span-char-count").css({top:"0px"})}),$('input[type="text"]').on("blur",function(){$(this).val().length<1?$(this).addClass("required"):$(this).removeClass("required")}),$(".input-charge-no, .input-file-name, .input-text").on("input",function(){n.certified&&($('.control input[type="checkbox"]').prop("checked",!1),$(".control").css({color:"#007e9d"}),$(".control__indicator").css({borderColor:"#007e9d"}),$(".span-submit-btn").attr("status","disabled"))}),$(".input-text").on("input",function(){var e=$(this).val().length;if($(".span-char-count").text(`${e}/5000 characters`),0==e)return $(".span-clear").removeClass("t-teal"),void $(".span-char-count").removeClass("red yellow");e>0&&e<=4500?($(".span-clear").addClass("t-teal"),$(".span-char-count").removeClass("red yellow")):e>4500&&e<=4800?$(".span-char-count").removeClass("red").addClass("yellow"):$(".span-char-count").removeClass("yellow").addClass("red")}),$(".span-clear").click(function(){$(".input-text").val(""),$(".span-char-count").text("0/5000 characters"),$(".span-char-count").removeClass("red yellow")}),$(".img-play-btn").on("click",function(){$(this).css({left:"-32px"}),$(this).next().css({left:"0px"}),l(this)}),$(".img-pause-btn").on("click",function(n){t?(t.pause(),e="",$(this).css({left:"32px"}),$(this).prev().css({left:"0px"})):n.preventDefault()}),$(".span-select-btn").on("click",function(){$(".span-select-btn").each(function(){$(this).next().css({visibility:"hidden",opacity:"0"}),$(this).show(),n.lang="",$(this).parent().removeClass("selected bounceIn")}),$(this).hide(),$(this).next().css({visibility:"visible",opacity:"1"}),n.lang=$(this).parent().attr("value"),n.gender=$(this).parent().find(".span-human-lang").text(),$(this).parent().addClass("selected animated bounceIn")}),$(".span-mp3-btn, .span-wav-btn").on("click",function(e){$(".span-mp3-btn, .span-wav-btn").removeClass("selected"),$(this).hasClass("selected")?e.preventDefault():($(this).toggleClass("selected"),n.fileType=$(this).attr("value"))}),$(".span-speed-btn").on("click",function(e){$(".span-speed-btn").removeClass("selected"),$(this).hasClass("selected")?e.preventDefault():($(this).toggleClass("selected"),n.speakingRate=$(this).attr("value"))}),$(".d-success .span-close").on("click",function(){$(".d-success").removeClass("show")})});